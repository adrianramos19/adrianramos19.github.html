<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Processing Demo</title>
<script type="text/javascript" src="myJava.js"></script>
</head>
<body>


<script type="text/processing">
/* This is my unique version of Flappy Bird!
 * Instead of a bird, you'll be playing as Pikachu!
 * Avoid explosions and go as far as you can!
 */

//loads the images necessary for the game

//loads the images necessary for the game
PImage background;
PImage pikachu;
PImage explosion;
int x;
int cx;
int cy;
int cVy;
int gameState;
int[] wx = new int[2]; //Explosion Arrays
int[] wy = new int[2];

//this function sets up the game
void setup(){
  gameState = 0;
  size(600,600);
  background = loadImage("./imgs/flappyBack2.png");
  pikachu = loadImage("./imgs/Pikachu_SSB4.png");
  explosion = loadImage("./imgs/explosion.png");
  cVy = 2;
  cx = 50;
  
}
// this function draws the background, allowing it to continously move
void draw(){
  if(gameState == 0){
    image(background, x, 0);
    image(background, x, 0);
    image(background, x+background.width-5, 0);
    x--;
  }
 if(gameState == 1){
  fill(255); //COLOR OF TEXT
textSize(40); //SIZE OF TEXT
if(mouseX < 330 && mouseX > 100 && mouseY < 245 && mouseY > 200){
fill(0,0,255);
}
rect(100,200, 230, 45, 10); //BACKGROUND OF BUTTON
fill(0);
if(mouseX < 330 && mouseX > 100 && mouseY < 245 && mouseY > 200){
fill(255,0,0);
}


text("You Lose!!!", 110,239); //TEXT ON BUTTON
//END BUTTON
 }

  if(x < -background.width){
      x=0;
    }
    image(pikachu, cx, cy);
    cy = cy + cVy;
    cVy++;
    x--;
    accelerate();
    checkPika();
}
// this function allows Pikachu to accelerate and bounce 
void accelerate(){
  if(mousePressed){
    cVy = -11;
  }
}
// this function check to make sure that Pikachu isn't out of the game area
void checkPika(){
  if(cy > height || cy < -80){
    gameState = 1;
  }
}

</script>

<canvas id="sketch" style="border: 1px solid black;"></canvas>
</body>
</html>